<!DOCTYPE html>

<html lang="en" data-content_root="../../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>2. Emulation Overview &#8212; ns-3 1.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=b3523f8e" />
    <link rel="stylesheet" type="text/css" href="../../../_static/alabaster.css?v=039e1c02" />
    <script src="../../../_static/documentation_options.js?v=f2a433a1"></script>
    <script src="../../../_static/doctools.js?v=888ff710"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
   
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="emulation-overview">
<h1><span class="section-number">2. </span>Emulation Overview<a class="headerlink" href="#emulation-overview" title="Link to this heading">¶</a></h1>
<p><em>ns-3</em> has been designed for integration into testbed and virtual machine
environments. We have addressed this need by providing two kinds of net devices.
The first kind of device is a file descriptor net device (<code class="docutils literal notranslate"><span class="pre">FdNetDevice</span></code>),
which is a generic device type that can read and write from a file descriptor.
By associating this file descriptor with different things on the host
system, different capabilities can be provided.  For instance, the
FdNetDevice can be associated with an underlying packet socket to provide
emulation capabilities.  This allows <em>ns-3</em> simulations
to send data on a “real” network. The second kind, called a <code class="docutils literal notranslate"><span class="pre">TapBridge</span></code>
<code class="docutils literal notranslate"><span class="pre">NetDevice</span></code> allows a “real” host to participate in an <em>ns-3</em> simulation as if
it were one of the simulated nodes. An <em>ns-3</em> simulation may be constructed with
any combination of simulated or emulated devices.</p>
<p><strong>Note:</strong> Prior to ns-3.17, the emulation capability was provided by a
special device called an <code class="docutils literal notranslate"><span class="pre">Emu</span></code> NetDevice; the <code class="docutils literal notranslate"><span class="pre">Emu</span></code> NetDevice has
been replaced by the <code class="docutils literal notranslate"><span class="pre">FdNetDevice</span></code>.</p>
<p>One of the use-cases we want to support is that of a testbed. A concrete example
of an environment of this kind is the ORBIT testbed. ORBIT is a laboratory
emulator/field trial network arranged as a two dimensional grid of 400 802.11
radio nodes. We integrate with ORBIT by using their “imaging” process to load
and run <em>ns-3</em> simulations on the ORBIT array. We can use our
<code class="docutils literal notranslate"><span class="pre">EmuFdNetDevice</span></code>
to drive the hardware in the testbed and we can accumulate results either using
the <em>ns-3</em> tracing and logging functions, or the native ORBIT data gathering
techniques. See <a class="reference external" href="http://www.orbit-lab.org/">http://www.orbit-lab.org/</a> for details on the ORBIT
testbed.</p>
<p>A simulation of this kind is shown in the following figure:</p>
<figure class="align-default" id="id1">
<span id="testbed"></span><img alt="doc/models/source/figures/testbed.*" src="doc/models/source/figures/testbed.*" />
<figcaption>
<p><span class="caption-text">Example Implementation of Testbed Emulation.</span><a class="headerlink" href="#id1" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>You can see that there are separate hosts, each running a subset of a “global”
simulation. Instead of an <em>ns-3</em> channel connecting the hosts, we use real
hardware provided by the testbed. This allows <em>ns-3</em> applications and protocol
stacks attached to a simulation node to communicate over real hardware.</p>
<p>We expect the primary use for this configuration will be to generate repeatable
experimental results in a real-world network environment that includes all of
the <em>ns-3</em> tracing, logging, visualization and statistics gathering tools.</p>
<p>In what can be viewed as essentially an inverse configuration, we allow “real”
machines running native applications and protocol stacks to integrate with an
<em>ns-3</em> simulation. This allows for the simulation of large networks connected to
a real machine, and also enables virtualization. A simulation of this kind is
shown in the following figure:</p>
<figure class="align-default" id="id2">
<span id="emulated-channel"></span><img alt="doc/models/source/figures/emulated-channel.*" src="doc/models/source/figures/emulated-channel.*" />
<figcaption>
<p><span class="caption-text">Implementation overview of emulated channel.</span><a class="headerlink" href="#id2" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>Here, you will see that there is a single host with a number of virtual machines
running on it. An <em>ns-3</em> simulation is shown running in the virtual machine shown
in the center of the figure. This simulation has a number of nodes with
associated <em>ns-3</em> applications and protocol stacks that are talking to an <em>ns-3</em>
channel through native simulated <em>ns-3</em> net devices.</p>
<p>There are also two virtual machines shown at the far left and far right of the
figure. These VMs are running native (Linux) applications and protocol stacks.
The VM is connected into the simulation by a Linux Tap net device. The user-mode
handler for the Tap device is instantiated in the simulation and attached to a
proxy node that represents the native VM in the simulation. These handlers allow
the Tap devices on the native VMs to behave as if they were <em>ns-3</em> net devices in
the simulation VM. This, in turn, allows the native software and protocol suites
in the native VMs to believe that they are connected to the simulated <em>ns-3</em>
channel.</p>
<p>We expect the typical use case for this environment will be to analyze the
behavior of native applications and protocol suites in the presence of large
simulated <em>ns-3</em> networks.</p>
<p>The basic testbed mode of emulation uses raw sockets.  Two other variants
(netmap-based and DPDK-based emulation) have been recently added; these
make use of more recent network interface cards that make use of
directly-mapped memory capabilities to improve packet processing efficiency.</p>
<p>For more details:</p>
<div class="toctree-wrapper compound">
</div>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../../index.html">ns-3</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023, vishnu.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.2.6</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="../../../_sources/doc/models/source/emulation-overview.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>