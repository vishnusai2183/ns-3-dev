<!DOCTYPE html>

<html lang="en" data-content_root="../../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>4.4. Logging &#8212; ns-3 1.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=b3523f8e" />
    <link rel="stylesheet" type="text/css" href="../../../_static/alabaster.css?v=039e1c02" />
    <script src="../../../_static/documentation_options.js?v=f2a433a1"></script>
    <script src="../../../_static/doctools.js?v=888ff710"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
   
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="logging">
<h1><span class="section-number">4.4. </span>Logging<a class="headerlink" href="#logging" title="Link to this heading">¶</a></h1>
<p>The <em>ns-3</em> logging facility can be used to monitor or debug the progress
of simulation programs.  Logging output can be enabled by program statements
in your <code class="docutils literal notranslate"><span class="pre">main()</span></code> program or by the use of the <code class="docutils literal notranslate"><span class="pre">NS_LOG</span></code> environment variable.</p>
<p>Logging statements are not compiled into <code class="docutils literal notranslate"><span class="pre">optimized</span></code> builds of <em>ns-3</em>.  To use
logging, one must use the <code class="docutils literal notranslate"><span class="pre">default</span></code> or <code class="docutils literal notranslate"><span class="pre">debug</span></code> build profiles of <em>ns-3</em>.</p>
<p>The project makes no guarantee about whether logging output will remain
the same over time.  Users are cautioned against building simulation output
frameworks on top of logging code, as the output and the way the output
is enabled may change over time.</p>
<section id="overview">
<h2><span class="section-number">4.4.1. </span>Overview<a class="headerlink" href="#overview" title="Link to this heading">¶</a></h2>
<p><em>ns-3</em> logging statements are typically used to log various program
execution events, such as the occurrence of simulation events or the
use of a particular function.</p>
<p>For example, this code snippet is from <code class="docutils literal notranslate"><span class="pre">TcpSocketBase::EnterCwr()</span></code> and informs the user that
the model is reducing the congestion window and changing state:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">NS_LOG_INFO</span><span class="p">(</span><span class="s">&quot;Enter CWR recovery mode; set cwnd to &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">m_tcb</span><span class="o">-&gt;</span><span class="n">m_cWnd</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;, ssthresh to &quot;</span>
<span class="w">                                                    </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">m_tcb</span><span class="o">-&gt;</span><span class="n">m_ssThresh</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;, recover to &quot;</span>
<span class="w">                                                    </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">m_recover</span><span class="p">);</span>
</pre></div>
</div>
<p>If logging has been enabled for the <code class="docutils literal notranslate"><span class="pre">Ipv4L3Protocol</span></code> component at a severity
of <code class="docutils literal notranslate"><span class="pre">INFO</span></code> or above (see below about log severity), the statement
will be printed out; otherwise, it will be suppressed.</p>
<p>The logging implementation is enabled in <code class="docutils literal notranslate"><span class="pre">debug</span></code> and <code class="docutils literal notranslate"><span class="pre">default</span></code>
builds, but disabled in all other build profiles,
so that it does not impact the execution speed of more optimized profiles.</p>
<p>You can try the example program <cite>log-example.cc</cite> in <cite>src/core/example</cite>
with various values for the <cite>NS_LOG</cite> environment variable to see the
effect of the options discussed below.</p>
</section>
<section id="enabling-output">
<h2><span class="section-number">4.4.2. </span>Enabling Output<a class="headerlink" href="#enabling-output" title="Link to this heading">¶</a></h2>
<p>There are two ways that users typically control log output.  The
first is by setting the <code class="docutils literal notranslate"><span class="pre">NS_LOG</span></code> environment variable; e.g.:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span><span class="nv">NS_LOG</span><span class="o">=</span><span class="s2">&quot;*&quot;</span><span class="w"> </span>./ns3<span class="w"> </span>run<span class="w"> </span>first
</pre></div>
</div>
<p>will run the <code class="docutils literal notranslate"><span class="pre">first</span></code> tutorial program with all logging output.  (The
specifics of the <code class="docutils literal notranslate"><span class="pre">NS_LOG</span></code> format will be discussed below.)</p>
<p>This can be made more granular by selecting individual components:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span><span class="nv">NS_LOG</span><span class="o">=</span><span class="s2">&quot;Ipv4L3Protocol&quot;</span><span class="w"> </span>./ns3<span class="w"> </span>run<span class="w"> </span>first
</pre></div>
</div>
<p>The output can be further tailored with prefix options.</p>
<p>The second way to enable logging is to use explicit statements in your
program, such as in the <code class="docutils literal notranslate"><span class="pre">first</span></code> tutorial program:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span>
<span class="nf">main</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">argc</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
<span class="w">  </span><span class="n">LogComponentEnable</span><span class="p">(</span><span class="s">&quot;UdpEchoClientApplication&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">LOG_LEVEL_INFO</span><span class="p">);</span>
<span class="w">  </span><span class="n">LogComponentEnable</span><span class="p">(</span><span class="s">&quot;UdpEchoServerApplication&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">LOG_LEVEL_INFO</span><span class="p">);</span>
<span class="w">  </span><span class="p">...</span>
</pre></div>
</div>
<p>(The meaning of <code class="docutils literal notranslate"><span class="pre">LOG_LEVEL_INFO</span></code>, and other possible values,
will be discussed below.)</p>
</section>
<section id="ns-log-syntax">
<h2><span class="section-number">4.4.3. </span><code class="docutils literal notranslate"><span class="pre">NS_LOG</span></code> Syntax<a class="headerlink" href="#ns-log-syntax" title="Link to this heading">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">NS_LOG</span></code> environment variable contains a list of log components
and options.  Log components are separated by `:’ characters:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span><span class="nv">NS_LOG</span><span class="o">=</span><span class="s2">&quot;&lt;log-component&gt;:&lt;log-component&gt;...&quot;</span>
</pre></div>
</div>
<p>Options for each log component are given as flags after
each log component:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span><span class="nv">NS_LOG</span><span class="o">=</span><span class="s2">&quot;&lt;log-component&gt;=&lt;option&gt;|&lt;option&gt;...:&lt;log-component&gt;...&quot;</span>
</pre></div>
</div>
<p>Options control the severity and level for that component,
and whether optional information should be included, such as the
simulation time, simulation node, function name, and the symbolic severity.</p>
<section id="log-components">
<h3><span class="section-number">4.4.3.1. </span>Log Components<a class="headerlink" href="#log-components" title="Link to this heading">¶</a></h3>
<p>Generally a log component refers to a single source code <code class="docutils literal notranslate"><span class="pre">.cc</span></code> file,
and encompasses the entire file.</p>
<p>Some helpers have special methods to enable the logging of all components
in a module, spanning different compilation units, but logically grouped
together, such as the <em>ns-3</em> wifi code:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">WifiHelper</span><span class="w"> </span><span class="n">wifiHelper</span><span class="p">;</span>
<span class="n">wifiHelper</span><span class="p">.</span><span class="n">EnableLogComponents</span><span class="p">();</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">NS_LOG</span></code> log component wildcard `*’ will enable all components.</p>
<p>To see what log components are defined, any of these will work:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span><span class="nv">NS_LOG</span><span class="o">=</span><span class="s2">&quot;print-list&quot;</span><span class="w"> </span>./ns3<span class="w"> </span>run<span class="w"> </span>...

$<span class="w"> </span><span class="nv">NS_LOG</span><span class="o">=</span><span class="s2">&quot;foo&quot;</span><span class="w">  </span><span class="c1"># a token not matching any log-component</span>
</pre></div>
</div>
<p>The first form will print the name and enabled flags for all log components
which are linked in; try it with <code class="docutils literal notranslate"><span class="pre">scratch-simulator</span></code>.
The second form prints all registered log components,
then exit with an error.</p>
</section>
<section id="severity-and-level-options">
<h3><span class="section-number">4.4.3.2. </span>Severity and Level Options<a class="headerlink" href="#severity-and-level-options" title="Link to this heading">¶</a></h3>
<p>Individual messages belong to a single “severity class,” set by the macro
creating the message.  In the example above,
<code class="docutils literal notranslate"><span class="pre">NS_LOG_INFO(..)</span></code> creates the message in the <code class="docutils literal notranslate"><span class="pre">LOG_INFO</span></code> severity class.</p>
<p>The following severity classes are defined as <code class="docutils literal notranslate"><span class="pre">enum</span></code> constants:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Severity Class</p></th>
<th class="head"><p>Meaning</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">LOG_NONE</span></code></p></td>
<td><p>The default, no logging</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">LOG_ERROR</span></code></p></td>
<td><p>Serious error messages only</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">LOG_WARN</span></code></p></td>
<td><p>Warning messages</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">LOG_INFO</span></code></p></td>
<td><p>Info about the model changing state</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">LOG_FUNCTION</span></code></p></td>
<td><p>Function tracing</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">LOG_LOGIC</span></code></p></td>
<td><p>For tracing key decision points or branches in a function</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">LOG_DEBUG</span></code></p></td>
<td><p>For use in debugging</p></td>
</tr>
</tbody>
</table>
<p>Typically one wants to see messages at a given severity class <em>and higher</em>.
This is done by defining inclusive logging “levels”:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Level</p></th>
<th class="head"><p>Meaning</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">LOG_LEVEL_ERROR</span></code></p></td>
<td><p>Only <code class="docutils literal notranslate"><span class="pre">LOG_ERROR</span></code> severity class messages.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">LOG_LEVEL_WARN</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">LOG_WARN</span></code> and above.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">LOG_LEVEL_INFO</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">LOG_INFO</span></code> and above.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">LOG_LEVEL_FUNCTION</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">LOG_FUNCTION</span></code> and above.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">LOG_LEVEL_LOGIC</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">LOG_LOGIC</span></code> and above.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">LOG_LEVEL_DEBUG</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">LOG_DEBUG</span></code> and above.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">LOG_LEVEL_ALL</span></code></p></td>
<td><p>All severity classes.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">LOG_ALL</span></code></p></td>
<td><p>Synonym for <code class="docutils literal notranslate"><span class="pre">LOG_LEVEL_ALL</span></code></p></td>
</tr>
</tbody>
</table>
<p>The severity class and level options can be given in the <code class="docutils literal notranslate"><span class="pre">NS_LOG</span></code>
environment variable by these tokens:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Class</p></th>
<th class="head"><p>Level</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">error</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">level_error</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">warn</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">level_warn</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">info</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">level_info</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">function</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">level_function</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">logic</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">level_logic</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">debug</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">level_debug</span></code></p></td>
</tr>
<tr class="row-even"><td></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">level_all</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">all</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">*</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
<p>Using a severity class token enables log messages at that severity only.
For example, <code class="docutils literal notranslate"><span class="pre">NS_LOG=&quot;*=warn&quot;</span></code> won’t output messages with severity <code class="docutils literal notranslate"><span class="pre">error</span></code>.
<code class="docutils literal notranslate"><span class="pre">NS_LOG=&quot;*=level_debug&quot;</span></code> will output messages at severity levels
<code class="docutils literal notranslate"><span class="pre">debug</span></code> and above.</p>
<p>Severity classes and levels can be combined with the `|’ operator:
<code class="docutils literal notranslate"><span class="pre">NS_LOG=&quot;*=level_warn|debug&quot;</span></code> will output messages at severity levels
<code class="docutils literal notranslate"><span class="pre">error</span></code>, <code class="docutils literal notranslate"><span class="pre">warn</span></code> and <code class="docutils literal notranslate"><span class="pre">debug</span></code>, but not <code class="docutils literal notranslate"><span class="pre">info</span></code>, <code class="docutils literal notranslate"><span class="pre">function</span></code>, or <code class="docutils literal notranslate"><span class="pre">logic</span></code>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">NS_LOG</span></code> severity level wildcard `*’ and <code class="docutils literal notranslate"><span class="pre">all</span></code>
are synonyms for <code class="docutils literal notranslate"><span class="pre">level_all</span></code>.</p>
<p>For log components merely mentioned in <code class="docutils literal notranslate"><span class="pre">NS_LOG</span></code></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span><span class="nv">NS_LOG</span><span class="o">=</span><span class="s2">&quot;&lt;log-component&gt;:...&quot;</span>
</pre></div>
</div>
<p>the default severity is <code class="docutils literal notranslate"><span class="pre">LOG_LEVEL_ALL</span></code>.</p>
</section>
<section id="prefix-options">
<h3><span class="section-number">4.4.3.3. </span>Prefix Options<a class="headerlink" href="#prefix-options" title="Link to this heading">¶</a></h3>
<p>A number of prefixes can help identify
where and when a message originated, and at what severity.</p>
<p>The available prefix options (as <code class="docutils literal notranslate"><span class="pre">enum</span></code> constants) are</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Prefix Symbol</p></th>
<th class="head"><p>Meaning</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">LOG_PREFIX_FUNC</span></code></p></td>
<td><p>Prefix the name of the calling function.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">LOG_PREFIX_TIME</span></code></p></td>
<td><p>Prefix the simulation time.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">LOG_PREFIX_NODE</span></code></p></td>
<td><p>Prefix the node id.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">LOG_PREFIX_LEVEL</span></code></p></td>
<td><p>Prefix the severity level.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">LOG_PREFIX_ALL</span></code></p></td>
<td><p>Enable all prefixes.</p></td>
</tr>
</tbody>
</table>
<p>The prefix options are described briefly below.</p>
<p>The options can be given in the <code class="docutils literal notranslate"><span class="pre">NS_LOG</span></code>
environment variable by these tokens:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Token</p></th>
<th class="head"><p>Alternate</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">prefix_func</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">func</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">prefix_time</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">time</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">prefix_node</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">node</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">prefix_level</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">level</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">prefix_all</span></code></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">all</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">*</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
<p>For log components merely mentioned in <code class="docutils literal notranslate"><span class="pre">NS_LOG</span></code></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span><span class="nv">NS_LOG</span><span class="o">=</span><span class="s2">&quot;&lt;log-component&gt;:...&quot;</span>
</pre></div>
</div>
<p>the default prefix options are <code class="docutils literal notranslate"><span class="pre">LOG_PREFIX_ALL</span></code>.</p>
<section id="severity-prefix">
<h4><span class="section-number">4.4.3.3.1. </span>Severity Prefix<a class="headerlink" href="#severity-prefix" title="Link to this heading">¶</a></h4>
<p>The severity class of a message can be included with the options
<code class="docutils literal notranslate"><span class="pre">prefix_level</span></code> or <code class="docutils literal notranslate"><span class="pre">level</span></code>.  For example, this value of <code class="docutils literal notranslate"><span class="pre">NS_LOG</span></code>
enables logging for all log components (`*’) and all severity
classes (<code class="docutils literal notranslate"><span class="pre">=all</span></code>), and prefixes the message with the severity
class (<code class="docutils literal notranslate"><span class="pre">|prefix_level</span></code>).</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span><span class="nv">NS_LOG</span><span class="o">=</span><span class="s2">&quot;*=all|prefix_level&quot;</span><span class="w"> </span>./ns3<span class="w"> </span>run<span class="w"> </span>scratch-simulator
Scratch<span class="w"> </span>Simulator
<span class="o">[</span>ERROR<span class="o">]</span><span class="w"> </span>error<span class="w"> </span>message
<span class="o">[</span>WARN<span class="o">]</span><span class="w"> </span>warn<span class="w"> </span>message
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>info<span class="w"> </span>message
<span class="o">[</span>FUNCT<span class="o">]</span><span class="w"> </span><span class="k">function</span><span class="w"> </span>message
<span class="o">[</span>LOGIC<span class="o">]</span><span class="w"> </span>logic<span class="w"> </span>message
<span class="o">[</span>DEBUG<span class="o">]</span><span class="w"> </span>debug<span class="w"> </span>message
</pre></div>
</div>
</section>
<section id="time-prefix">
<h4><span class="section-number">4.4.3.3.2. </span>Time Prefix<a class="headerlink" href="#time-prefix" title="Link to this heading">¶</a></h4>
<p>The simulation time can be included with the options
<code class="docutils literal notranslate"><span class="pre">prefix_time</span></code> or <code class="docutils literal notranslate"><span class="pre">time</span></code>.  This prints the simulation time in seconds.</p>
</section>
<section id="node-prefix">
<h4><span class="section-number">4.4.3.3.3. </span>Node Prefix<a class="headerlink" href="#node-prefix" title="Link to this heading">¶</a></h4>
<p>The simulation node id can be included with the options
<code class="docutils literal notranslate"><span class="pre">prefix_node</span></code> or <code class="docutils literal notranslate"><span class="pre">node</span></code>.</p>
</section>
<section id="function-prefix">
<h4><span class="section-number">4.4.3.3.4. </span>Function Prefix<a class="headerlink" href="#function-prefix" title="Link to this heading">¶</a></h4>
<p>The name of the calling function can be included with the options
<code class="docutils literal notranslate"><span class="pre">prefix_func</span></code> or <code class="docutils literal notranslate"><span class="pre">func</span></code>.</p>
</section>
</section>
<section id="ns-log-wildcards">
<h3><span class="section-number">4.4.3.4. </span><code class="docutils literal notranslate"><span class="pre">NS_LOG</span></code> Wildcards<a class="headerlink" href="#ns-log-wildcards" title="Link to this heading">¶</a></h3>
<p>The log component wildcard `*’ will enable all components.  To
enable all components at a specific severity level
use <code class="docutils literal notranslate"><span class="pre">*=&lt;severity&gt;</span></code>.</p>
<p>The severity level option wildcard `*’ is a synonym for <code class="docutils literal notranslate"><span class="pre">all</span></code>.
This must occur before any `|’ characters separating options.
To enable all severity classes, use <code class="docutils literal notranslate"><span class="pre">&lt;log-component&gt;=*</span></code>,
or <code class="docutils literal notranslate"><span class="pre">&lt;log-component&gt;=*|&lt;options&gt;</span></code>.</p>
<p>The option wildcard `*’ or token <code class="docutils literal notranslate"><span class="pre">all</span></code> enables all prefix options,
but must occur <em>after</em> a `|’ character.  To enable a specific
severity class or level, and all prefixes, use
<code class="docutils literal notranslate"><span class="pre">&lt;log-component&gt;=&lt;severity&gt;|*</span></code>.</p>
<p>The combined option wildcard <code class="docutils literal notranslate"><span class="pre">**</span></code> enables all severities and all prefixes;
for example, <code class="docutils literal notranslate"><span class="pre">&lt;log-component&gt;=**</span></code>.</p>
<p>The uber-wildcard <code class="docutils literal notranslate"><span class="pre">***</span></code> enables all severities and all prefixes
for all log components.  These are all equivalent:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span><span class="nv">NS_LOG</span><span class="o">=</span><span class="s2">&quot;***&quot;</span><span class="w"> </span>...<span class="w">      </span>$<span class="w"> </span><span class="nv">NS_LOG</span><span class="o">=</span><span class="s2">&quot;*=all|*&quot;</span><span class="w"> </span>...<span class="w">        </span>$<span class="w"> </span><span class="nv">NS_LOG</span><span class="o">=</span><span class="s2">&quot;*=*|all&quot;</span><span class="w"> </span>...
$<span class="w"> </span><span class="nv">NS_LOG</span><span class="o">=</span><span class="s2">&quot;*=**&quot;</span><span class="w"> </span>...<span class="w">     </span>$<span class="w"> </span><span class="nv">NS_LOG</span><span class="o">=</span><span class="s2">&quot;*=level_all|*&quot;</span><span class="w"> </span>...<span class="w">  </span>$<span class="w"> </span><span class="nv">NS_LOG</span><span class="o">=</span><span class="s2">&quot;*=*|prefix_all&quot;</span><span class="w"> </span>...
$<span class="w"> </span><span class="nv">NS_LOG</span><span class="o">=</span><span class="s2">&quot;*=*|*&quot;</span><span class="w"> </span>...
</pre></div>
</div>
<p>Be advised:  even the trivial <code class="docutils literal notranslate"><span class="pre">scratch-simulator</span></code> produces over
46K lines of output with <code class="docutils literal notranslate"><span class="pre">NS_LOG=&quot;***&quot;</span></code>!</p>
</section>
</section>
<section id="how-to-add-logging-to-your-code">
<h2><span class="section-number">4.4.4. </span>How to add logging to your code<a class="headerlink" href="#how-to-add-logging-to-your-code" title="Link to this heading">¶</a></h2>
<p>Adding logging to your code is very simple:</p>
<ol class="arabic simple">
<li><p>Invoke the <code class="docutils literal notranslate"><span class="pre">NS_LOG_COMPONENT_DEFINE(...);</span></code> macro
inside of <code class="docutils literal notranslate"><span class="pre">namespace</span> <span class="pre">ns3</span></code>.</p></li>
</ol>
<blockquote>
<div><p>Create a unique string identifier (usually based on the name of the file
and/or class defined within the file) and register it with a macro call
such as follows:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">namespace</span><span class="w"> </span><span class="nn">ns3</span><span class="w"> </span><span class="p">{</span>

<span class="n">NS_LOG_COMPONENT_DEFINE</span><span class="p">(</span><span class="s">&quot;Ipv4L3Protocol&quot;</span><span class="p">);</span>
<span class="p">...</span>
</pre></div>
</div>
<p>This registers <code class="docutils literal notranslate"><span class="pre">Ipv4L3Protocol</span></code> as a log component.</p>
<p>(The macro was carefully written to permit inclusion either within or
outside of namespace <code class="docutils literal notranslate"><span class="pre">ns3</span></code>, and usage will vary across the codebase, but
the original intent was to register this <em>outside</em> of namespace <code class="docutils literal notranslate"><span class="pre">ns3</span></code>
at file global scope.)</p>
</div></blockquote>
<ol class="arabic simple" start="2">
<li><p>Add logging statements (macro calls) to your functions and function bodies.</p></li>
</ol>
<p>In case you want to add logging statements to the methods of your template class
(which are defined in an header file):</p>
<ol class="arabic simple">
<li><p>Invoke the <code class="docutils literal notranslate"><span class="pre">NS_LOG_TEMPLATE_DECLARE;</span></code> macro in the private section of
your class declaration. For instance:</p></li>
</ol>
<blockquote>
<div><div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">Item</span><span class="o">&gt;</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Queue</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">public</span><span class="w"> </span><span class="n">QueueBase</span>
<span class="p">{</span>
<span class="p">...</span>
<span class="k">private</span><span class="o">:</span>
<span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">list</span><span class="o">&lt;</span><span class="n">Ptr</span><span class="o">&lt;</span><span class="n">Item</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">m_packets</span><span class="p">;</span><span class="w">           </span><span class="c1">//!&lt; the items in the queue</span>
<span class="w">  </span><span class="n">NS_LOG_TEMPLATE_DECLARE</span><span class="p">;</span><span class="w">                  </span><span class="c1">//!&lt; the log component</span>
<span class="p">};</span>
</pre></div>
</div>
<p>This requires you to perform these steps for all the subclasses of your class.</p>
</div></blockquote>
<ol class="arabic simple" start="2">
<li><p>Invoke the <code class="docutils literal notranslate"><span class="pre">NS_LOG_TEMPLATE_DEFINE(...);</span></code> macro in the constructor of
your class by providing the name of a log component registered by calling
the <code class="docutils literal notranslate"><span class="pre">NS_LOG_COMPONENT_DEFINE(...);</span></code> macro in some module. For instance:</p></li>
</ol>
<blockquote>
<div><div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">Item</span><span class="o">&gt;</span>
<span class="n">Queue</span><span class="o">&lt;</span><span class="n">Item</span><span class="o">&gt;::</span><span class="n">Queue</span><span class="p">()</span>
<span class="w">  </span><span class="o">:</span><span class="w"> </span><span class="n">NS_LOG_TEMPLATE_DEFINE</span><span class="p">(</span><span class="s">&quot;Queue&quot;</span><span class="p">)</span>
<span class="p">{</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
<ol class="arabic simple" start="3">
<li><p>Add logging statements (macro calls) to the methods of your class.</p></li>
</ol>
<p>In case you want to add logging statements to a static member template
(which is defined in an header file):</p>
<ol class="arabic simple">
<li><p>Invoke the <code class="docutils literal notranslate"><span class="pre">NS_LOG_STATIC_TEMPLATE_DEFINE</span> <span class="pre">(...);</span></code> macro in your static
method by providing the name of a log component registered by calling
the <code class="docutils literal notranslate"><span class="pre">NS_LOG_COMPONENT_DEFINE(...);</span></code> macro in some module. For instance:</p></li>
</ol>
<blockquote>
<div><div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">Item</span><span class="o">&gt;</span>
<span class="kt">void</span>
<span class="n">NetDeviceQueue</span><span class="o">::</span><span class="n">PacketEnqueued</span><span class="p">(</span><span class="n">Ptr</span><span class="o">&lt;</span><span class="n">Queue</span><span class="o">&lt;</span><span class="n">Item</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">queue</span><span class="p">,</span>
<span class="w">                               </span><span class="n">Ptr</span><span class="o">&lt;</span><span class="n">NetDeviceQueueInterface</span><span class="o">&gt;</span><span class="w"> </span><span class="n">ndqi</span><span class="p">,</span>
<span class="w">                               </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">txq</span><span class="p">,</span><span class="w"> </span><span class="n">Ptr</span><span class="o">&lt;</span><span class="k">const</span><span class="w"> </span><span class="n">Item</span><span class="o">&gt;</span><span class="w"> </span><span class="n">item</span><span class="p">)</span>
<span class="p">{</span>

<span class="w">  </span><span class="n">NS_LOG_STATIC_TEMPLATE_DEFINE</span><span class="p">(</span><span class="s">&quot;NetDeviceQueueInterface&quot;</span><span class="p">);</span>
<span class="p">...</span>
</pre></div>
</div>
</div></blockquote>
<ol class="arabic simple" start="2">
<li><p>Add logging statements (macro calls) to your static method.</p></li>
</ol>
<section id="logging-macros">
<h3><span class="section-number">4.4.4.1. </span>Logging Macros<a class="headerlink" href="#logging-macros" title="Link to this heading">¶</a></h3>
<blockquote>
<div><p>The logging macros and associated severity levels are</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Severity Class</p></th>
<th class="head"><p>Macro</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">LOG_NONE</span></code></p></td>
<td><p>(none needed)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">LOG_ERROR</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">NS_LOG_ERROR(...);</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">LOG_WARN</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">NS_LOG_WARN(...);</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">LOG_INFO</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">NS_LOG_INFO(...);</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">LOG_FUNCTION</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">NS_LOG_FUNCTION(...);</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">LOG_LOGIC</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">NS_LOG_LOGIC(...);</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">LOG_DEBUG</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">NS_LOG_DEBUG(...);</span></code></p></td>
</tr>
</tbody>
</table>
<p>The macros function as output streamers, so anything you can send to
<code class="docutils literal notranslate"><span class="pre">std::cout</span></code>, joined by <code class="docutils literal notranslate"><span class="pre">&lt;&lt;</span></code> operators, is allowed:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">MyClass::Check</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">item</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">  </span><span class="n">NS_LOG_FUNCTION</span><span class="p">(</span><span class="k">this</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">arg</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">item</span><span class="p">);</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">arg</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="n">NS_LOG_ERROR</span><span class="p">(</span><span class="s">&quot;encountered bad value &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">&lt;&lt;</span>
<span class="w">                   </span><span class="s">&quot; while checking &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;!&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">...</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Note that <code class="docutils literal notranslate"><span class="pre">NS_LOG_FUNCTION</span></code> automatically inserts a `<code class="docutils literal notranslate"><span class="pre">,</span></code>’
(comma-space) separator between each of its arguments.
This simplifies logging of function arguments;
just concatenate them with <code class="docutils literal notranslate"><span class="pre">&lt;&lt;</span></code> as in the example above.</p>
</div></blockquote>
</section>
<section id="unconditional-logging">
<h3><span class="section-number">4.4.4.2. </span>Unconditional Logging<a class="headerlink" href="#unconditional-logging" title="Link to this heading">¶</a></h3>
<p>As a convenience, the <code class="docutils literal notranslate"><span class="pre">NS_LOG_UNCOND(...);</span></code> macro will always log its
arguments, even if the associated log-component is not enabled at any
severity.  This macro does not use any of the prefix options.  Recall
that logging is only enabled in <code class="docutils literal notranslate"><span class="pre">debug</span></code>, <code class="docutils literal notranslate"><span class="pre">default</span></code> and <code class="docutils literal notranslate"><span class="pre">relwithdebinfo</span></code>
builds, so this macro will only produce output in the same builds.</p>
<p>The <em>ns-3</em> model libraries do not typically use the <code class="docutils literal notranslate"><span class="pre">NS_LOG_UNCOND(...)</span></code> macro;
it is provided for users for assistance with debugging.</p>
</section>
<section id="guidelines">
<h3><span class="section-number">4.4.4.3. </span>Guidelines<a class="headerlink" href="#guidelines" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Start every significant class method with <code class="docutils literal notranslate"><span class="pre">NS_LOG_FUNCTION(this</span> <span class="pre">&lt;&lt;</span> <span class="pre">args...);</span></code>
This enables easy function call tracing.</p>
<ul>
<li><p>Exception 1:  don’t log operators or explicit copy constructors,
since these will cause infinite recursion and stack overflow.</p></li>
<li><p>Exception 2:  For simple methods such as getters, avoid function
logging because it tends to overload the logging output.</p></li>
<li><p>For methods without arguments use the same form:
<code class="docutils literal notranslate"><span class="pre">NS_LOG_FUNCTION(this);</span></code></p></li>
<li><p>For static functions:</p>
<ul>
<li><p>With arguments use <code class="docutils literal notranslate"><span class="pre">NS_LOG_FUNCTION(...);</span></code> as normal.</p></li>
<li><p>Without arguments use <code class="docutils literal notranslate"><span class="pre">NS_LOG_FUNCTION_NOARGS();</span></code></p></li>
</ul>
</li>
</ul>
</li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">NS_LOG_ERROR</span></code> for serious error conditions that probably
invalidate the simulation execution.  Note that in <em>ns-3</em>, we typically
abort the simulation under such conditions rather than log it as
an error (which might go undetected if the user is not using logging).
The <code class="docutils literal notranslate"><span class="pre">NS_ABORT_MSG_IF/UNLESS(cond,msg)</span></code> macros and variants, as well
as the lower-level <code class="docutils literal notranslate"><span class="pre">NS_FATAL_ERROR(msg)</span></code> macro, can be used to terminate
the simulation with an error message.</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">NS_LOG_WARN</span></code> for unusual conditions that are not considered
invalid.  An example might be that some resource has been exhausted
(e.g., the DHCP server has run out of addresses to allocate).
Please give some hints as to the nature of the problem and how
it might be corrected.</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">NS_LOG_INFO</span></code> for events that cause a state change in the model.
Avoid using it for logging periodic events that are not causing a
state change (e.g., a Wi-Fi beacon is sent, but all nodes are already
associated to the access point).  Try to be efficient in using it;
for instance, sending a message is usually an important state change event,
but try to capture this event with one single log message at the <code class="docutils literal notranslate"><span class="pre">INFO</span></code>
level rather than multiple.  If multiple log messages are desired to
fully capture the event and all of its consequences,  use <code class="docutils literal notranslate"><span class="pre">DEBUG</span></code> level
for the additional messages.  The intent of this log level is to allow a
user to examine the normal operation of a model without becoming overwhelmed
by the output.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">NS_LOG_LOGIC</span></code> is used to trace important logic branches or decision points
within a function, without dumping all details of the variable states,
called function return values, individual iterations, etc.  It may be useful
to think of it as a less granular level of function logging than <code class="docutils literal notranslate"><span class="pre">DEBUG,</span></code>
and may not be used by all models (some authors may choose to only use
<code class="docutils literal notranslate"><span class="pre">DEBUG</span></code> level for full logging).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">NS_LOG_DEBUG</span></code> is usually used for full voluminous debugging, and contains
much more information than <code class="docutils literal notranslate"><span class="pre">NS_LOG_INFO</span></code>, such as the detailed execution
logic of functions and the values that variables take within those functions.</p></li>
<li><p>Test that your logging changes do not break the code.
Run some example programs with all log components turned on (e.g.
<code class="docutils literal notranslate"><span class="pre">NS_LOG=&quot;***&quot;</span></code>).</p></li>
<li><p>Use a unary operator (preferred) or an explicit cast for any variable of type uint8_t or int8_t,
e.g., <code class="docutils literal notranslate"><span class="pre">NS_LOG_DEBUG(&quot;Variable</span> <span class="pre">i</span> <span class="pre">is</span> <span class="pre">&quot;</span> <span class="pre">&lt;&lt;</span> <span class="pre">+i);</span></code>.
e.g., <code class="docutils literal notranslate"><span class="pre">NS_LOG_DEBUG(&quot;Variable</span> <span class="pre">i</span> <span class="pre">is</span> <span class="pre">&quot;</span> <span class="pre">&lt;&lt;</span> <span class="pre">static_cast&lt;int&gt;(i));</span></code> or
Without the cast, the integer is interpreted as a char, and the result
will be most likely not in line with the expectations.
This is a well documented C++ ‘feature’.</p></li>
</ul>
</section>
</section>
<section id="controlling-timestamp-precision">
<h2><span class="section-number">4.4.5. </span>Controlling timestamp precision<a class="headerlink" href="#controlling-timestamp-precision" title="Link to this heading">¶</a></h2>
<p>Timestamps are printed out in units of seconds.  When used with the default
<em>ns-3</em> time resolution of nanoseconds, the default timestamp precision is 9
digits, with fixed format, to allow for 9 digits to be consistently printed
to the right of the decimal point.  Example:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="mf">0.000123456</span><span class="n">s</span><span class="w"> </span><span class="n">RandomVariableStream</span><span class="o">:</span><span class="n">SetAntithetic</span><span class="p">(</span><span class="mh">0x805040</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<p>When the <em>ns-3</em> simulation uses higher time resolution such as picoseconds
or femtoseconds, the precision is expanded accordingly; e.g. for picosecond:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="mf">0.000123456789</span><span class="n">s</span><span class="w"> </span><span class="n">RandomVariableStream</span><span class="o">:</span><span class="n">SetAntithetic</span><span class="p">(</span><span class="mh">0x805040</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<p>When the <em>ns-3</em> simulation uses a time resolution lower than microseconds,
the default C++ precision is used.</p>
<p>An example program at <code class="docutils literal notranslate"><span class="pre">src/core/examples/sample-log-time-format.cc</span></code>
demonstrates how to change the timestamp formatting.</p>
<p>The maximum useful precision is 20 decimal digits, since Time is signed 64
bits.</p>
</section>
<section id="asserts">
<h2><span class="section-number">4.4.6. </span>Asserts<a class="headerlink" href="#asserts" title="Link to this heading">¶</a></h2>
<p>The <em>ns-3</em> assert facility can be used to validate that invariant conditions
are met during execution. If the condition is not met an error message is given
and the program stops, printing the location of the failed assert.</p>
<p>The assert implementation is enabled in <code class="docutils literal notranslate"><span class="pre">debug</span></code> and <code class="docutils literal notranslate"><span class="pre">default</span></code>
builds, but disabled in all other build profiles to improve execution speed.</p>
<section id="how-to-add-asserts-to-your-code">
<h3><span class="section-number">4.4.6.1. </span>How to add asserts to your code<a class="headerlink" href="#how-to-add-asserts-to-your-code" title="Link to this heading">¶</a></h3>
<p>There is only one macro one should use:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">NS_ASSERT_MSG</span><span class="p">(</span><span class="n">condition</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">);</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">condition</span></code> should be the invariant you want to test, as a
boolean expression.  The <code class="docutils literal notranslate"><span class="pre">message</span></code> should explain what the
condition means and/or the possible source of the error.</p>
<p>There is a variant available without a message, <code class="docutils literal notranslate"><span class="pre">NS_ASSERT(condition)</span></code>,
but we recommend using the message variant in ns-3 library code,
as a well-crafted message can help users figure out how to fix the underlying
issue with their script.</p>
<p>In either case if the condition evaluates to <code class="docutils literal notranslate"><span class="pre">false</span></code> the assert will print
an error message to <code class="docutils literal notranslate"><span class="pre">std::cerr</span></code> containing the following
information:</p>
<ul class="simple">
<li><p>Error message: “NS_ASSERT failed, “</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">condition</span></code> expression: “cond=”<code class="docutils literal notranslate"><span class="pre">condition</span></code>”</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">message</span></code>: “msg=”<code class="docutils literal notranslate"><span class="pre">message</span></code>”</p></li>
<li><p>The simulation time and node, as would be printed by logging.
These are printed independent of the flags or prefix set on any
logging component.</p></li>
<li><p>The file and line containing the assert: “file=``file``, line=``line``</p></li>
</ul>
<p>Here is an example which doesn’t assert:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>./ns3<span class="w"> </span>run<span class="w"> </span>assert-example
<span class="o">[</span><span class="m">0</span>/2<span class="o">]</span><span class="w"> </span>Re-checking<span class="w"> </span>globbed<span class="w"> </span>directories...
ninja:<span class="w"> </span>no<span class="w"> </span>work<span class="w"> </span>to<span class="w"> </span><span class="k">do</span>.
NS_ASSERT_MSG<span class="w"> </span>example
<span class="w">  </span><span class="k">if</span><span class="w"> </span>an<span class="w"> </span>argument<span class="w"> </span>is<span class="w"> </span>given<span class="w"> </span>this<span class="w"> </span>example<span class="w"> </span>will<span class="w"> </span>assert.
</pre></div>
</div>
<p>and here is an example which does:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>./ns3<span class="w"> </span>run<span class="w"> </span>assert-example<span class="w"> </span>--<span class="w"> </span>foo
<span class="o">[</span><span class="m">0</span>/2<span class="o">]</span><span class="w"> </span>Re-checking<span class="w"> </span>globbed<span class="w"> </span>directories...
ninja:<span class="w"> </span>no<span class="w"> </span>work<span class="w"> </span>to<span class="w"> </span><span class="k">do</span>.
NS_ASSERT_MSG<span class="w"> </span>example
<span class="w">  </span><span class="k">if</span><span class="w"> </span>an<span class="w"> </span>argument<span class="w"> </span>is<span class="w"> </span>given<span class="w"> </span>this<span class="w"> </span>example<span class="w"> </span>will<span class="w"> </span>assert.
NS_ASSERT<span class="w"> </span>failed,<span class="w"> </span><span class="nv">cond</span><span class="o">=</span><span class="s2">&quot;argc == 1&quot;</span>,<span class="w"> </span><span class="nv">msg</span><span class="o">=</span><span class="s2">&quot;An argument was given, so we assert&quot;</span>,<span class="w"> </span><span class="nv">file</span><span class="o">=</span>/Users/barnes26/Code/netsim/ns3/repos/ns-3-dev/src/core/examples/assert-example.cc,<span class="w"> </span><span class="nv">line</span><span class="o">=</span><span class="m">44</span>
NS_FATAL,<span class="w"> </span>terminating
terminate<span class="w"> </span>called<span class="w"> </span>without<span class="w"> </span>an<span class="w"> </span>active<span class="w"> </span>exception
Command<span class="w"> </span><span class="s1">&#39;build/debug/src/core/examples/ns3-dev-assert-example-debug foo&#39;</span><span class="w"> </span>died<span class="w"> </span>with<span class="w"> </span>&lt;Signals.SIGABRT:<span class="w"> </span><span class="m">6</span>&gt;.
</pre></div>
</div>
<p>You can try the example program <cite>assert-example.cc</cite> in <cite>src/core/example</cite>
with or without arguments to see the action of <code class="docutils literal notranslate"><span class="pre">NS_ASSERT_MSG</span></code>.</p>
</section>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../../index.html">ns-3</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023, vishnu.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.2.6</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="../../../_sources/doc/manual/source/logging-asserts.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>