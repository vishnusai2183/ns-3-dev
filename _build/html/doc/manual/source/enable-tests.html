<!DOCTYPE html>

<html lang="en" data-content_root="../../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>6.2. Enabling/disabling ns-3 Tests and Examples &#8212; ns-3 1.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=b3523f8e" />
    <link rel="stylesheet" type="text/css" href="../../../_static/alabaster.css?v=039e1c02" />
    <script src="../../../_static/documentation_options.js?v=f2a433a1"></script>
    <script src="../../../_static/doctools.js?v=888ff710"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
   
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="enabling-disabling-ns3-tests-and-examples">
<h1><span class="section-number">6.2. </span>Enabling/disabling <em>ns-3</em> Tests and Examples<a class="headerlink" href="#enabling-disabling-ns3-tests-and-examples" title="Link to this heading">¶</a></h1>
<p>The <em>ns-3</em> distribution includes many examples and tests that are used to validate the <em>ns-3</em> system.  Users, however, may not always want these examples and tests to be run for their installation of <em>ns-3</em>.</p>
<p>This chapter discusses how to build <em>ns-3</em> with or without its examples and tests.</p>
<section id="how-to-enable-disable-examples-and-tests-in-ns3">
<h2><span class="section-number">6.2.1. </span>How to enable/disable examples and tests in <em>ns-3</em><a class="headerlink" href="#how-to-enable-disable-examples-and-tests-in-ns3" title="Link to this heading">¶</a></h2>
<p>There are 3 ways to enable/disable examples and tests in <em>ns-3</em>:</p>
<ol class="arabic simple">
<li><p>Using build.py when <em>ns-3</em> is built for the first time</p></li>
<li><p>Using ns3 once <em>ns-3</em> has been built</p></li>
<li><p>Using the <em>ns-3</em> configuration file once <em>ns-3</em> has been built</p></li>
</ol>
<section id="enable-disable-examples-and-tests-using-build-py">
<h3><span class="section-number">6.2.1.1. </span>Enable/disable examples and tests using build.py<a class="headerlink" href="#enable-disable-examples-and-tests-using-build-py" title="Link to this heading">¶</a></h3>
<p>You can use build.py to enable/disable examples and tests when <em>ns-3</em> is built for the first time.</p>
<p>By default, examples and tests are not built in <em>ns-3</em>.</p>
<p>From the ns-3-allinone directory, you can build <em>ns-3</em> without any
examples or tests simply by doing:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>./build.py
</pre></div>
</div>
<p>Running test.py in the top level <em>ns-3</em> directory now will cause no examples or tests to be run:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>0 of 0 tests passed (0 passed, 0 skipped, 0 failed, 0 crashed, 0 valgrind errors)
</pre></div>
</div>
<p>If you would like build <em>ns-3</em> with examples and tests, then do the following from the ns-3-allinone directory:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>./build.py<span class="w"> </span>--enable-examples<span class="w"> </span>--enable-tests
</pre></div>
</div>
<p>Running test.py in the top level <em>ns-3</em> directory will cause all of the examples and tests to be run:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>170 of 170 tests passed (170 passed, 0 skipped, 0 failed, 0 crashed, 0 valgrind errors)
</pre></div>
</div>
</section>
<section id="enable-disable-examples-and-tests-using-ns3">
<h3><span class="section-number">6.2.1.2. </span>Enable/disable examples and tests using ns3<a class="headerlink" href="#enable-disable-examples-and-tests-using-ns3" title="Link to this heading">¶</a></h3>
<p>You can use ns3 to enable/disable examples and tests once <em>ns-3</em> has been built.</p>
<p>By default, examples and tests are not built in <em>ns-3</em>.</p>
<p>From the top level <em>ns-3</em> directory, you can build <em>ns-3</em> without any
examples or tests simply by doing:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>./ns3<span class="w"> </span>configure
$<span class="w"> </span>./ns3<span class="w"> </span>build
</pre></div>
</div>
<p>Running test.py now will cause no examples or tests to be run:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>0 of 0 tests passed (0 passed, 0 skipped, 0 failed, 0 crashed, 0 valgrind errors)
</pre></div>
</div>
<p>If you would like build <em>ns-3</em> with examples and tests, then do the following from the top level <em>ns-3</em> directory:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>./ns3<span class="w"> </span>configure<span class="w"> </span>--enable-examples<span class="w"> </span>--enable-tests
$<span class="w"> </span>./ns3<span class="w"> </span>build
</pre></div>
</div>
<p>Running test.py will cause all of the examples and tests to be run:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>170 of 170 tests passed (170 passed, 0 skipped, 0 failed, 0 crashed, 0 valgrind errors)
</pre></div>
</div>
</section>
<section id="enable-disable-examples-and-tests-using-the-ns3-configuration-file">
<h3><span class="section-number">6.2.1.3. </span>Enable/disable examples and tests using the <em>ns-3</em> configuration file<a class="headerlink" href="#enable-disable-examples-and-tests-using-the-ns3-configuration-file" title="Link to this heading">¶</a></h3>
<p>A configuration file, .ns3rc, has been added to <em>ns-3</em> that allows users to specify whether examples and tests should be built or not.  You can use this file to enable/disable examples and tests once <em>ns-3</em> has been built.</p>
<p>When enabling disabling examples and tests, the precedence rules are as follows:</p>
<ol class="arabic simple">
<li><p>the –enable-examples/–disable-examples configure strings override any .ns3rc file</p></li>
<li><p>the –enable-tests/–disable-tests configure strings override any .ns3rc file</p></li>
<li><p>the .ns3rc file in the top level <em>ns-3</em> directory is next consulted, if present</p></li>
<li><p>the system searches for ~/.ns3rc if the .ns3rc file was not found in the previous step</p></li>
</ol>
<p>If none of the above exists, then examples and tests will not be built.</p>
<p>The maintained version of the .ns3rc file in the <em>ns-3</em> source code repository resides in the <code class="docutils literal notranslate"><span class="pre">utils</span></code> directory.  The reason for this is if it were in the top-level directory of the repository, it would be prone to accidental checkins from maintainers that enable the modules they want to use.  Therefore, users need to manually copy the .ns3rc from the <code class="docutils literal notranslate"><span class="pre">utils</span></code> directory to their preferred place (top level directory or their home directory) to enable persistent enabling of examples and tests.</p>
<p>Assuming that you are in the top level <em>ns-3</em> directory, you can get a copy of the .ns3rc file that is in the <code class="docutils literal notranslate"><span class="pre">utils</span></code> directory as follows:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>cp<span class="w"> </span>utils/.ns3rc<span class="w"> </span>.
</pre></div>
</div>
<p>The .ns3rc file should now be in your top level <em>ns-3</em> directory, and it contains the following:</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="c"># A list of the modules that will be enabled when ns-3 is run.</span>
<span class="c"># Modules that depend on the listed modules will be enabled also.</span>
<span class="c">#</span>
<span class="c"># All modules can be enabled by emptying the list.</span>
<span class="nb">set</span><span class="p">(</span><span class="s">ns3rc_enabled_modules</span><span class="p">)</span>

<span class="c"># A list of the modules that will be disabled when ns-3 is run.</span>
<span class="c"># Modules that depend on the listed modules will be disabled also.</span>
<span class="c">#</span>
<span class="c"># If the list is empty, no module will be disabled.</span>
<span class="nb">set</span><span class="p">(</span><span class="s">ns3rc_disabled_modules</span><span class="p">)</span>

<span class="c"># Set this equal to ON if you want examples to be run.</span>
<span class="nb">set</span><span class="p">(</span><span class="s">ns3rc_examples_enabled</span><span class="w"> </span><span class="s">OFF</span><span class="p">)</span>

<span class="c"># Set this equal to ON if you want tests to be run.</span>
<span class="nb">set</span><span class="p">(</span><span class="s">ns3rc_tests_enabled</span><span class="w"> </span><span class="s">OFF</span><span class="p">)</span>

<span class="c"># Override other ns-3 settings by setting their values below</span>
<span class="c"># Note: command-line settings will also be overridden.</span>
<span class="c">#set(NS3_LOG ON)</span>
</pre></div>
</div>
<p>From the top level <em>ns-3</em> directory, you can build <em>ns-3</em> without any
examples or tests simply by doing:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>./ns3<span class="w"> </span>configure
$<span class="w"> </span>./ns3<span class="w"> </span>build
</pre></div>
</div>
<p>Running test.py now will cause no examples or tests to be run:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>0 of 0 tests passed (0 passed, 0 skipped, 0 failed, 0 crashed, 0 valgrind errors)
</pre></div>
</div>
<p>If you would like build <em>ns-3</em> with examples and tests, use your
favorite editor to change the values in the .ns3rc file for
ns3rc_examples_enabled and ns3rc_tests_enabled file to be True:</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="c"># A list of the modules that will be enabled when ns-3 is run.</span>
<span class="c"># Modules that depend on the listed modules will be enabled also.</span>
<span class="c">#</span>
<span class="c"># All modules can be enabled by emptying the list.</span>
<span class="nb">set</span><span class="p">(</span><span class="s">ns3rc_enabled_modules</span><span class="p">)</span>

<span class="c"># A list of the modules that will be disabled when ns-3 is run.</span>
<span class="c"># Modules that depend on the listed modules will be disabled also.</span>
<span class="c">#</span>
<span class="c"># If the list is empty, no module will be disabled.</span>
<span class="nb">set</span><span class="p">(</span><span class="s">ns3rc_disabled_modules</span><span class="p">)</span>

<span class="c"># Set this equal to ON if you want examples to be run.</span>
<span class="nb">set</span><span class="p">(</span><span class="s">ns3rc_examples_enabled</span><span class="w"> </span><span class="s">ON</span><span class="p">)</span>

<span class="c"># Set this equal to ON if you want tests to be run.</span>
<span class="nb">set</span><span class="p">(</span><span class="s">ns3rc_tests_enabled</span><span class="w"> </span><span class="s">ON</span><span class="p">)</span>

<span class="c"># Override other ns-3 settings by setting their values below</span>
<span class="c"># Note: command-line settings will also be overridden.</span>
<span class="c">#set(NS3_LOG ON)</span>
</pre></div>
</div>
<p>From the top level <em>ns-3</em> directory, you can build <em>ns-3</em> with examples
and tests simply by doing:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>./ns3<span class="w"> </span>configure
$<span class="w"> </span>./ns3<span class="w"> </span>build
</pre></div>
</div>
<p>Running test.py will cause all of the examples and tests to be run:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>170 of 170 tests passed (170 passed, 0 skipped, 0 failed, 0 crashed, 0 valgrind errors)
</pre></div>
</div>
</section>
<section id="enable-examples-and-tests-that-depend-on-a-set-of-modules-using-ns3">
<h3><span class="section-number">6.2.1.4. </span>Enable examples and tests that depend on a set of modules using <em>ns-3</em><a class="headerlink" href="#enable-examples-and-tests-that-depend-on-a-set-of-modules-using-ns3" title="Link to this heading">¶</a></h3>
<p>As seen above, the following command only builds the requested modules (core and wifi),
plus any modules that are implicitly needed (e.g., network), and the resulting compatible examples and tests:</p>
<div class="highlight-terminal notranslate"><div class="highlight"><pre><span></span>./ns3 configure --enable-modules=&quot;wifi;core&quot; --enable-examples --enable-tests
</pre></div>
</div>
<p>However, when developing a new module, you may prefer to use the following alternative, which builds
all module libraries, but will filter out any examples and tests from modules that are not explicitly listed.</p>
<div class="highlight-terminal notranslate"><div class="highlight"><pre><span></span>./ns3 configure --filter-module-examples-and-tests=&quot;wifi;core&quot; --enable-examples --enable-tests
</pre></div>
</div>
<p>The first command will generally lead to a shorter build time, but the second option will provide better
coverage, by building additional test cases and examples directly related to the specified modules.</p>
</section>
<section id="enable-examples-and-tests-that-depend-on-a-set-of-modules-using-the-ns3-configuration-file">
<h3><span class="section-number">6.2.1.5. </span>Enable examples and tests that depend on a set of modules using the <em>ns-3</em> configuration file<a class="headerlink" href="#enable-examples-and-tests-that-depend-on-a-set-of-modules-using-the-ns3-configuration-file" title="Link to this heading">¶</a></h3>
<p>As seen above, examples and tests can be enabled for just a subset of the available modules via the
<code class="docutils literal notranslate"><span class="pre">ns3</span></code> script. The same can be accomplished via the <code class="docutils literal notranslate"><span class="pre">.ns3rc</span></code> configuration file.</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="c"># A list of the modules that will be enabled when ns-3 is run.</span>
<span class="c"># Modules that depend on the listed modules will be enabled also.</span>
<span class="c">#</span>
<span class="c"># All modules can be enabled by emptying the list.</span>
<span class="nb">set</span><span class="p">(</span><span class="s">ns3rc_enabled_modules</span><span class="p">)</span>

<span class="c"># ...</span>

<span class="c"># Override other ns-3 settings by setting their values below</span>
<span class="c"># Note: command-line settings will also be overridden.</span>
<span class="c">#set(NS3_LOG ON)</span>

<span class="c"># The following will build core and wifi tests, plus their examples</span>
<span class="c"># and examples on /ns-3-dev/examples that depend on either of them</span>
<span class="nb">set</span><span class="p">(</span><span class="s">NS3_FILTER_MODULE_EXAMPLES_AND_TESTS</span><span class="w"> </span><span class="s">wifi</span><span class="w"> </span><span class="s">core</span><span class="p">)</span><span class="w"> </span><span class="c"># &lt;==</span>
</pre></div>
</div>
</section>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../../index.html">ns-3</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023, vishnu.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.2.6</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="../../../_sources/doc/manual/source/enable-tests.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>